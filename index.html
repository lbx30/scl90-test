<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCL-90ç—‡çŠ¶è‡ªè¯„é‡è¡¨æµ‹è¯•</title>
    <style>
        :root {
            --primary-color: #4a6fa5;
            --secondary-color: #6b8cbc;
            --accent-color: #ff6b6b;
            --light-color: #f5f7fa;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f0f2f5;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        h1 {
            color: var(--primary-color);
            margin-bottom: 10px;
        }
        
        .description {
            color: #666;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 20px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary-color);
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            text-align: center;
        }
        
        .btn:hover {
            background-color: var(--secondary-color);
        }
        
        .btn-large {
            padding: 15px 30px;
            font-size: 18px;
        }
        
        .btn-block {
            display: block;
            width: 100%;
        }
        
        .btn-success {
            background-color: var(--success-color);
        }
        
        .btn-success:hover {
            background-color: #27ae60;
        }
        
        .btn-warning {
            background-color: var(--warning-color);
        }
        
        .btn-warning:hover {
            background-color: #e67e22;
        }
        
        .btn-danger {
            background-color: var(--danger-color);
        }
        
        .btn-danger:hover {
            background-color: #c0392b;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.3s;
        }
        
        .question-container {
            margin-bottom: 20px;
        }
        
        .question-number {
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .question-text {
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        @media (min-width: 768px) {
            .options {
                grid-template-columns: 1fr 1fr;
            }
        }
        
        .option {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .option:hover {
            background-color: #f5f7fa;
            border-color: var(--primary-color);
        }
        
        .option.selected {
            background-color: var(--primary-color);
            color: white;
            border-color: var(--primary-color);
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .hidden {
            display: none;
        }
        
        .result-section {
            margin-bottom: 30px;
        }
        
        .result-title {
            color: var(--primary-color);
            margin-bottom: 15px;
            border-bottom: 1px solid #eee;
            padding-bottom: 10px;
        }
        
        .factor-score {
            margin-bottom: 15px;
            padding: 15px;
            border-radius: 5px;
            background-color: #f9f9f9;
        }
        
        .factor-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .score-bar {
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            margin: 10px 0;
            overflow: hidden;
        }
        
        .score-fill {
            height: 100%;
            border-radius: 10px;
            transition: width 0.5s;
        }
        
        .score-text {
            font-size: 14px;
            color: #666;
        }
        
        .interpretation {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }
        
        .normal {
            background-color: #e8f5e9;
            color: #2e7d32;
        }
        
        .mild {
            background-color: #fff3e0;
            color: #ef6c00;
        }
        
        .moderate {
            background-color: #ffebee;
            color: #c62828;
        }
        
        .severe {
            background-color: #fce4ec;
            color: #ad1457;
        }
        
        .warning-box {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
            padding: 15px;
            margin: 20px 0;
            color: #856404;
        }
        
        .resources {
            margin-top: 30px;
        }
        
        .resource-list {
            list-style-type: none;
        }
        
        .resource-list li {
            margin-bottom: 10px;
            padding-left: 20px;
            position: relative;
        }
        
        .resource-list li:before {
            content: "â€¢";
            color: var(--primary-color);
            position: absolute;
            left: 0;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: #666;
            font-size: 14px;
        }
        
        .summary-card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 25px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .summary-icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .summary-title {
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .summary-description {
            font-size: 16px;
            margin-bottom: 15px;
        }
        
        .auto-next-checkbox {
            margin: 15px 0;
            display: flex;
            align-items: center;
        }
        
        .auto-next-checkbox input {
            margin-right: 8px;
        }
        
        .result-explanation {
            background-color: #f8f9fa;
            border-left: 4px solid var(--primary-color);
            padding: 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }
        
        .severity-levels {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .severity-level {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .severity-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .card {
                padding: 15px;
            }
            
            .btn {
                padding: 10px 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>SCL-90ç—‡çŠ¶è‡ªè¯„é‡è¡¨</h1>
            <p class="description">SCL-90æ˜¯ä¸€ç§å¹¿æ³›ä½¿ç”¨çš„å¿ƒç†å¥åº·è‡ªè¯„é‡è¡¨ï¼ŒåŒ…å«90ä¸ªé¡¹ç›®ï¼Œæ¶µç›–9ä¸ªç—‡çŠ¶ç»´åº¦ï¼Œå¸®åŠ©æ‚¨äº†è§£è¿‘ä¸€å‘¨çš„å¿ƒç†å¥åº·çŠ¶å†µã€‚</p>
        </header>
        
        <!-- ä»‹ç»é¡µé¢ -->
        <div id="intro-page" class="card">
            <h2>æµ‹è¯•è¯´æ˜</h2>
            <p>æœ¬æµ‹è¯•åŒ…å«90ä¸ªé—®é¢˜ï¼Œå¤§çº¦éœ€è¦15-20åˆ†é’Ÿå®Œæˆã€‚è¯·æ ¹æ®æ‚¨<strong>æœ€è¿‘ä¸€å‘¨</strong>çš„å®é™…æ„Ÿå—é€‰æ‹©æœ€ç¬¦åˆçš„é€‰é¡¹ã€‚</p>
            
            <div class="warning-box">
                <strong>é‡è¦æç¤ºï¼š</strong>æœ¬æµ‹è¯•ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç–—è¯Šæ–­ã€‚å¦‚æœæ‚¨æ„Ÿåˆ°ä¸¥é‡ä¸é€‚ï¼Œè¯·åŠæ—¶å¯»æ±‚ä¸“ä¸šåŒ»ç–—å¸®åŠ©ã€‚
            </div>
            
            <h3>è¯„åˆ†æ ‡å‡†ï¼š</h3>
            <ul>
                <li><strong>1åˆ† - ä»æ— ï¼š</strong>è‡ªè§‰å¹¶æ— è¯¥é¡¹ç—‡çŠ¶</li>
                <li><strong>2åˆ† - å¾ˆè½»ï¼š</strong>è‡ªè§‰æœ‰è¯¥ç—‡çŠ¶ï¼Œä½†å‘ç”Ÿå¾—å¹¶ä¸é¢‘ç¹ã€ä¸¥é‡</li>
                <li><strong>3åˆ† - ä¸­ç­‰ï¼š</strong>è‡ªè§‰æœ‰è¯¥é¡¹ç—‡çŠ¶ï¼Œå…¶ä¸¥é‡ç¨‹åº¦ä¸ºè½»åˆ°ä¸­åº¦</li>
                <li><strong>4åˆ† - åé‡ï¼š</strong>è‡ªè§‰å¸¸æœ‰è¯¥é¡¹ç—‡çŠ¶ï¼Œå…¶ç¨‹åº¦ä¸ºä¸­åˆ°ä¸¥é‡</li>
                <li><strong>5åˆ† - ä¸¥é‡ï¼š</strong>è‡ªè§‰è¯¥ç—‡çŠ¶çš„é¢‘åº¦å’Œå¼ºåº¦éƒ½ååˆ†ä¸¥é‡</li>
            </ul>
            
            <div class="auto-next-checkbox">
                <input type="checkbox" id="auto-next" checked>
                <label for="auto-next">ç­”å®Œä¸€é¢˜åè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜</label>
            </div>
            
            <button id="start-test" class="btn btn-large btn-block">å¼€å§‹æµ‹è¯•</button>
        </div>
        
        <!-- æµ‹è¯•é¡µé¢ -->
        <div id="test-page" class="card hidden">
            <div class="progress-bar">
                <div id="progress" class="progress"></div>
            </div>
            
            <div id="question-container" class="question-container">
                <!-- é—®é¢˜å°†é€šè¿‡JavaScriptåŠ¨æ€åŠ è½½ -->
            </div>
            
            <div class="navigation">
                <button id="prev-btn" class="btn">ä¸Šä¸€é¢˜</button>
                <button id="next-btn" class="btn">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
        
        <!-- ç»“æœé¡µé¢ -->
        <div id="result-page" class="hidden">
            <!-- æ€»ç»“å¡ç‰‡ -->
            <div id="summary-card" class="summary-card">
                <div id="summary-icon" class="summary-icon">ğŸ˜Š</div>
                <h2 id="summary-title" class="summary-title">æµ‹è¯•å®Œæˆ</h2>
                <p id="summary-description" class="summary-description">æ‚¨çš„æµ‹è¯•ç»“æœå·²ç”Ÿæˆï¼Œè¯·æŸ¥çœ‹è¯¦ç»†æŠ¥å‘Š</p>
            </div>
            
            <div class="card">
                <h2>æµ‹è¯•ç»“æœ</h2>
                <p>ä»¥ä¸‹æ˜¯æ‚¨çš„SCL-90æµ‹è¯•ç»“æœåˆ†æï¼š</p>
                
                <div class="result-section">
                    <h3 class="result-title">æ€»ä½“ç—‡çŠ¶æŒ‡æ•°</h3>
                    <div class="factor-score">
                        <div class="factor-name">æ€»ç—‡çŠ¶æŒ‡æ•° (GSI)</div>
                        <div class="score-bar">
                            <div id="gsi-bar" class="score-fill" style="width: 0%; background-color: var(--primary-color);"></div>
                        </div>
                        <div id="gsi-score" class="score-text">å¾—åˆ†: è®¡ç®—ä¸­...</div>
                        <div id="gsi-interpretation" class="interpretation"></div>
                    </div>
                    
                    <div class="factor-score">
                        <div class="factor-name">æ€»åˆ†</div>
                        <div id="total-score" class="score-text">æ€»åˆ†: è®¡ç®—ä¸­...</div>
                        <div id="total-interpretation" class="interpretation"></div>
                    </div>
                </div>
                
                <div class="result-section">
                    <h3 class="result-title">å„ç—‡çŠ¶ç»´åº¦åˆ†æ</h3>
                    <div id="factors-container">
                        <!-- å„å› å­åˆ†æ•°å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                </div>
                
                <div class="result-section">
                    <h3 class="result-title">æµ‹è¯•æƒ…å†µåˆ†çº§</h3>
                    <div class="severity-levels">
                        <div class="severity-level normal">
                            <div class="severity-title">è½»å¾® (1.0-2.0åˆ†)</div>
                            <div>ç—‡çŠ¶è½»å¾®æˆ–å¶å°”å‡ºç°</div>
                        </div>
                        <div class="severity-level mild">
                            <div class="severity-title">è½»åº¦ (2.0-3.0åˆ†)</div>
                            <div>ç—‡çŠ¶æ˜æ˜¾ä½†ä¸å½±å“æ—¥å¸¸ç”Ÿæ´»</div>
                        </div>
                        <div class="severity-level moderate">
                            <div class="severity-title">ä¸­åº¦ (3.0-4.0åˆ†)</div>
                            <div>ç—‡çŠ¶æ˜æ˜¾ä¸”å¯¹æ—¥å¸¸ç”Ÿæ´»æœ‰ä¸€å®šå½±å“</div>
                        </div>
                        <div class="severity-level severe">
                            <div class="severity-title">é‡åº¦ (4.0-5.0åˆ†)</div>
                            <div>ç—‡çŠ¶ä¸¥é‡ä¸”æ˜æ˜¾å½±å“æ—¥å¸¸ç”Ÿæ´»</div>
                        </div>
                    </div>
                </div>
                
                <div class="result-section">
                    <h3 class="result-title">ç»“æœè§£é‡Š</h3>
                    <div class="result-explanation">
                        <p>è¯·ç”¨ä»å®¹çš„å¿ƒæ€æ¥çœ‹å¾…æœ¬æ¬¡æµ‹è¯•ã€‚æ— è®ºåˆ†æ•°å¦‚ä½•ï¼Œè¯·ä¸€å®šè®°å¾—ï¼Œæˆ‘ä»¬å§‹ç»ˆéƒ½åœ¨ä½ èº«è¾¹ã€‚SCL-90 å¿ƒç†å¥åº·è‡ªè¯„é‡è¡¨æ¶µç›–äº†æƒ…ç»ªçŠ¶æ€ã€æ€ç»´æ¨¡å¼ã€äººé™…å…³ç³»ã€ç”Ÿæ´»ä¹ æƒ¯ç­‰å¤šä¸ªç»´åº¦ï¼Œå®ƒå°±åƒä¸€é¢æ¸©æŸ”çš„é•œå­ï¼Œèƒ½å¸®ä½ æ›´æ¸…æ™°åœ°çœ‹è§è‡ªå·±å½“ä¸‹çš„å¿ƒç†çŠ¶æ€ã€‚</p>
                        
                        <p>éœ€è¦çŸ¥é“çš„æ˜¯ï¼Œé‡è¡¨å¾—åˆ†ä»…ä»…æ˜¯è¿‘æœŸå¿ƒç†æ„Ÿå—çš„æŠ•å°„ã€‚è‹¥æŸäº›å› å­å¾—åˆ†è¾ƒé«˜ï¼Œæˆ–è®¸åªæ˜¯è¯´æ˜ä½ æœ€è¿‘åœ¨è¿™äº›æ–¹é¢æš‚æ—¶æ„Ÿå—åˆ°äº†å‹åŠ›æˆ–å›°æ‰°ï¼Œä½†è¿™ç»ä¸ç­‰äºä½ å­˜åœ¨ä¸¥é‡çš„é—®é¢˜ï¼Œå¾ˆå¤šæ—¶å€™ï¼ŒçŸ­æœŸçš„å¿ƒç†æ³¢åŠ¨æœ¬å°±æ˜¯ç”Ÿæ´»çš„å¸¸æ€ -- å¯èƒ½æ˜¯å­¦ä¹ çš„èŠ‚å¥ã€å·¥ä½œçš„æŒ‘æˆ˜ï¼Œæˆ–æ˜¯äººé™…äº¤å¾€ä¸­çš„å°æ’æ›²å¸¦æ¥çš„æš‚æ—¶å½±å“ã€‚</p>
                        
                        <p>å¦‚æœä½ å‘ç°è‡ªå·±åœ¨å¤šä¸ªç»´åº¦ä¸Šé•¿æœŸæ„Ÿåˆ°ä¸é€‚ï¼Œä¸å¦¨å¤šç»™è‡ªå·±ä¸€äº›å…³æ³¨:è¯•ç€è°ƒæ•´è‡ªå·±çš„ä½œæ¯è§„å¾‹ï¼Œæ‰¾åˆ°é€‚åˆè‡ªå·±çš„æ”¾æ¾æ–¹å¼ï¼Œæˆ–æ˜¯å’Œä¿¡ä»»çš„äººå¥½å¥½å€¾è¯‰èŠèŠã€‚å€˜è‹¥æƒ…ç»ªå·²ç»æ‚„æ‚„å½±å“åˆ°äº†æ—¥å¸¸ç”Ÿæ´»ï¼Œä¸”é è‡ªå·±éš¾ä»¥è°ƒèŠ‚ï¼Œä¹Ÿè¯·ä¸è¦çŠ¹è±«ï¼ŒåŠæ—¶å¯»æ±‚ä¸“ä¸šçš„å¿ƒç†å’¨è¯¢æˆ–å¸®åŠ©ï¼Œè¿™å¹¶ä¸æ˜¯è½¯å¼±ï¼Œè€Œæ˜¯å¯¹è‡ªå·±çš„è´Ÿè´£ã€‚è¦çŸ¥é“ï¼Œå¿ƒç†å¥åº·å’Œèº«ä½“å¥åº·åŒæ ·é‡è¦ï¼Œè€Œä½ ï¼Œæœ¬å°±å€¼å¾—è¢«å¥½å¥½å…³å¿ƒä¸åšå®šæ”¯æŒã€‚</p>
                        
                        <p>æŒ‰ä¸­å›½å¸¸æ¨¡ç»“æœï¼Œå¦‚æœæ‚¨çš„SCL90æ€»åˆ†è¶…è¿‡160åˆ†ï¼Œå•é¡¹å‡åˆ†è¶…è¿‡2åˆ†å°±åº”ä½œè¿›ä¸€æ­¥æ£€æŸ¥ï¼Œæ ‡å‡†åˆ†ä¸ºå¤§äº200åˆ†è¯´æ˜ä½ æœ‰å¾ˆæ˜æ˜¾çš„å¿ƒç†é—®é¢˜ï¼Œå¯æ±‚åŠ©äºå¿ƒç†å’¨è¯¢ï¼Œå¤§äº250åˆ†åˆ™æ¯”è¾ƒä¸¥é‡ï¼Œéœ€è¦ä½œåŒ»å­¦ä¸Šçš„è¯¦ç»†æ£€æŸ¥ï¼Œå¾ˆå¯èƒ½è¦åšé’ˆå¯¹æ€§çš„å¿ƒç†æ²»ç–—æˆ–åœ¨åŒ»ç”Ÿçš„æŒ‡å¯¼ä¸‹æœè¯ã€‚</p>
                    </div>
                </div>
                
                <div class="warning-box">
                    <strong>é‡è¦æç¤ºï¼š</strong>æœ¬æµ‹è¯•ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½ä½œä¸ºä¸´åºŠè¯Šæ–­ä¾æ®ã€‚å¦‚æœæ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºæœ‰ä¸­åº¦æˆ–é‡åº¦ç—‡çŠ¶ï¼Œæˆ–æ‚¨æ„Ÿåˆ°æ˜æ˜¾ä¸é€‚ï¼Œå»ºè®®æ‚¨å°½å¿«å’¨è¯¢å¿ƒç†å¥åº·ä¸“ä¸šäººå£«ã€‚
                </div>
                
                <div class="resources">
                    <h3>å¿ƒç†å¥åº·èµ„æº</h3>
                    <ul class="resource-list">
                        <li>å…¨å›½å¿ƒç†æ´åŠ©çƒ­çº¿ï¼š12320-5</li>
                    </ul>
                </div>
                
                <div class="navigation">
                    <button id="retake-test" class="btn">é‡æ–°æµ‹è¯•</button>
                    <button id="save-report" class="btn btn-success">ä¿å­˜æŠ¥å‘Š</button>
                </div>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Â© 2023 å¿ƒç†å¥åº·æœåŠ¡å¹³å° | æœ¬æµ‹è¯•ç»“æœä»…ä¾›å‚è€ƒï¼Œä¸èƒ½æ›¿ä»£ä¸“ä¸šåŒ»ç–—å»ºè®®</p>
    </footer>

    <script>
        // SCL-90å®Œæ•´é—®é¢˜åˆ—è¡¨
        const questions = [
            { id: 1, text: "å¤´ç—›", factor: "somatization" },
            { id: 2, text: "ç¥ç»è¿‡æ•ï¼Œå¿ƒä¸­ä¸è¸å®", factor: "anxiety" },
            { id: 3, text: "å¤´è„‘ä¸­æœ‰ä¸å¿…è¦çš„æƒ³æ³•æˆ–å­—å¥ç›˜æ—‹", factor: "obsessive" },
            { id: 4, text: "å¤´æ™•æˆ–æ˜å€’", factor: "somatization" },
            { id: 5, text: "å¯¹å¼‚æ€§çš„å…´è¶£å‡é€€", factor: "interpersonal" },
            { id: 6, text: "å¯¹æ—äººè´£å¤‡æ±‚å…¨", factor: "hostility" },
            { id: 7, text: "æ„Ÿåˆ°åˆ«äººèƒ½æ§åˆ¶æ‚¨çš„æ€æƒ³", factor: "psychoticism" },
            { id: 8, text: "è´£æ€ªåˆ«äººåˆ¶é€ éº»çƒ¦", factor: "hostility" },
            { id: 9, text: "å¿˜è®°æ€§å¤§", factor: "obsessive" },
            { id: 10, text: "æ‹…å¿ƒè‡ªå·±çš„è¡£é¥°æ•´é½åŠä»ªæ€çš„ç«¯æ­£", factor: "anxiety" },
            { id: 11, text: "å®¹æ˜“çƒ¦æ¼å’Œæ¿€åŠ¨", factor: "hostility" },
            { id: 12, text: "èƒ¸ç—›", factor: "somatization" },
            { id: 13, text: "å®³æ€•ç©ºæ—·çš„åœºæ‰€æˆ–è¡—é“", factor: "phobic" },
            { id: 14, text: "æ„Ÿåˆ°è‡ªå·±çš„ç²¾åŠ›ä¸‹é™ï¼Œæ´»åŠ¨å‡æ…¢", factor: "depression" },
            { id: 15, text: "æƒ³ç»“æŸè‡ªå·±çš„ç”Ÿå‘½", factor: "depression" },
            { id: 16, text: "å¬åˆ°æ—äººå¬ä¸åˆ°çš„å£°éŸ³", factor: "psychoticism" },
            { id: 17, text: "å‘æŠ–", factor: "anxiety" },
            { id: 18, text: "æ„Ÿåˆ°å¤§å¤šæ•°äººéƒ½ä¸å¯ä¿¡ä»»", factor: "paranoid" },
            { id: 19, text: "èƒƒå£ä¸å¥½", factor: "additional" },
            { id: 20, text: "å®¹æ˜“å“­æ³£", factor: "depression" },
            { id: 21, text: "åŒå¼‚æ€§ç›¸å¤„æ—¶æ„Ÿåˆ°å®³ç¾ä¸è‡ªåœ¨", factor: "interpersonal" },
            { id: 22, text: "æ„Ÿåˆ°å—éª—ï¼Œä¸­äº†åœˆå¥—æˆ–æœ‰äººæƒ³æŠ“ä½æ‚¨", factor: "depression" },
            { id: 23, text: "æ— ç¼˜æ— æ•…åœ°çªç„¶æ„Ÿåˆ°å®³æ€•", factor: "anxiety" },
            { id: 24, text: "è‡ªå·±ä¸èƒ½æ§åˆ¶åœ°å¤§å‘è„¾æ°”", factor: "hostility" },
            { id: 25, text: "æ€•å•ç‹¬å‡ºé—¨", factor: "phobic" },
            { id: 26, text: "ç»å¸¸è´£æ€ªè‡ªå·±", factor: "depression" },
            { id: 27, text: "è…°ç—›", factor: "somatization" },
            { id: 28, text: "æ„Ÿåˆ°éš¾ä»¥å®Œæˆä»»åŠ¡", factor: "obsessive" },
            { id: 29, text: "æ„Ÿåˆ°å­¤ç‹¬", factor: "depression" },
            { id: 30, text: "æ„Ÿåˆ°è‹¦é—·", factor: "depression" },
            { id: 31, text: "è¿‡åˆ†æ‹…å¿§", factor: "depression" },
            { id: 32, text: "å¯¹äº‹ç‰©ä¸æ„Ÿå…´è¶£", factor: "depression" },
            { id: 33, text: "æ„Ÿåˆ°å®³æ€•", factor: "anxiety" },
            { id: 34, text: "æ‚¨çš„æ„Ÿæƒ…å®¹æ˜“å—åˆ°ä¼¤å®³", factor: "interpersonal" },
            { id: 35, text: "æ—äººèƒ½çŸ¥é“æ‚¨çš„ç§ä¸‹æƒ³æ³•", factor: "psychoticism" },
            { id: 36, text: "æ„Ÿåˆ°åˆ«äººä¸ç†è§£æ‚¨ã€ä¸åŒæƒ…æ„«æ‚¨", factor: "interpersonal" },
            { id: 37, text: "æ„Ÿåˆ°äººä»¬å¯¹æ‚¨ä¸å‹å¥½ï¼Œä¸å–œæ¬¢æ‚¨", factor: "interpersonal" },
            { id: 38, text: "åšäº‹å¿…é¡»åšå¾—å¾ˆæ…¢ä»¥ä¿è¯åšå¾—æ­£ç¡®", factor: "obsessive" },
            { id: 39, text: "å¿ƒè·³å¾—å¾ˆå‰å®³", factor: "anxiety" },
            { id: 40, text: "æ¶å¿ƒæˆ–èƒƒéƒ¨ä¸èˆ’æœ", factor: "somatization" },
            { id: 41, text: "æ„Ÿåˆ°æ¯”ä¸ä¸Šä»–äºº", factor: "interpersonal" },
            { id: 42, text: "è‚Œè‚‰é…¸ç—›", factor: "somatization" },
            { id: 43, text: "æ„Ÿåˆ°æœ‰äººåœ¨ç›‘è§†æ‚¨ã€è°ˆè®ºæ‚¨", factor: "paranoid" },
            { id: 44, text: "éš¾ä»¥å…¥ç¡", factor: "additional" },
            { id: 45, text: "åšäº‹å¿…é¡»åå¤æ£€æŸ¥", factor: "obsessive" },
            { id: 46, text: "éš¾ä»¥ä½œå‡ºå†³å®š", factor: "obsessive" },
            { id: 47, text: "æ€•ä¹˜ç”µè½¦ã€å…¬å…±æ±½è½¦ã€åœ°é“æˆ–ç«è½¦", factor: "phobic" },
            { id: 48, text: "å‘¼å¸æœ‰å›°éš¾", factor: "somatization" },
            { id: 49, text: "ä¸€é˜µé˜µå‘å†·æˆ–å‘çƒ­", factor: "somatization" },
            { id: 50, text: "å› ä¸ºæ„Ÿåˆ°å®³æ€•è€Œé¿å¼€æŸäº›ä¸œè¥¿ã€åœºåˆæˆ–æ´»åŠ¨", factor: "phobic" },
            { id: 51, text: "è„‘å­å˜ç©ºäº†", factor: "obsessive" },
            { id: 52, text: "èº«ä½“å‘éº»æˆ–åˆºç—›", factor: "somatization" },
            { id: 53, text: "å–‰å’™æœ‰æ¢—å¡æ„Ÿ", factor: "somatization" },
            { id: 54, text: "æ„Ÿåˆ°å‰é€”æ²¡æœ‰å¸Œæœ›", factor: "depression" },
            { id: 55, text: "ä¸èƒ½é›†ä¸­æ³¨æ„åŠ›", factor: "obsessive" },
            { id: 56, text: "æ„Ÿåˆ°èº«ä½“çš„æŸä¸€éƒ¨åˆ†è½¯å¼±æ— åŠ›", factor: "somatization" },
            { id: 57, text: "æ„Ÿåˆ°ç´§å¼ æˆ–å®¹æ˜“ç´§å¼ ", factor: "anxiety" },
            { id: 58, text: "æ„Ÿåˆ°æ‰‹æˆ–è„šå‘é‡", factor: "somatization" },
            { id: 59, text: "æƒ³åˆ°æ­»äº¡çš„äº‹", factor: "additional" },
            { id: 60, text: "åƒå¾—å¤ªå¤š", factor: "additional" },
            { id: 61, text: "å½“åˆ«äººçœ‹ç€æ‚¨æˆ–è°ˆè®ºæ‚¨æ—¶æ„Ÿåˆ°ä¸è‡ªåœ¨", factor: "interpersonal" },
            { id: 62, text: "æœ‰ä¸€äº›ä¸å±äºæ‚¨è‡ªå·±çš„æƒ³æ³•", factor: "psychoticism" },
            { id: 63, text: "æœ‰æƒ³æ‰“äººæˆ–ä¼¤å®³ä»–äººçš„å†²åŠ¨", factor: "hostility" },
            { id: 64, text: "é†’å¾—å¤ªæ—©", factor: "additional" },
            { id: 65, text: "å¿…é¡»åå¤æ´—æ‰‹ã€ç‚¹æ•°æ—¥æˆ–è§¦æ‘¸æŸäº›ä¸œè¥¿", factor: "obsessive" },
            { id: 66, text: "ç¡å¾—ä¸ç¨³ä¸æ·±", factor: "additional" },
            { id: 67, text: "æœ‰æƒ³æ‘”åæˆ–ç ´åä¸œè¥¿çš„å†²åŠ¨", factor: "hostility" },
            { id: 68, text: "æœ‰ä¸€äº›åˆ«äººæ²¡æœ‰çš„æƒ³æ³•æˆ–å¿µå¤´", factor: "paranoid" },
            { id: 69, text: "æ„Ÿåˆ°å¯¹åˆ«äººç¥ç»è¿‡æ•", factor: "interpersonal" },
            { id: 70, text: "åœ¨å•†åº—æˆ–ç”µå½±é™¢ç­‰äººå¤šçš„åœ°æ–¹æ„Ÿåˆ°ä¸è‡ªåœ¨", factor: "phobic" },
            { id: 71, text: "æ„Ÿåˆ°ä»»ä½•äº‹æƒ…éƒ½å¾ˆå›°éš¾", factor: "depression" },
            { id: 72, text: "ä¸€é˜µé˜µææƒ§æˆ–æƒŠæ", factor: "anxiety" },
            { id: 73, text: "æ„Ÿåˆ°åœ¨å…¬å…±åœºåˆåƒä¸œè¥¿å¾ˆä¸èˆ’æœ", factor: "interpersonal" },
            { id: 74, text: "ç»å¸¸ä¸äººäº‰è®º", factor: "hostility" },
            { id: 75, text: "å•ç‹¬ä¸€äººæ—¶ç¥ç»å¾ˆç´§å¼ ", factor: "phobic" },
            { id: 76, text: "åˆ«äººå¯¹æ‚¨çš„æˆç»©æ²¡æœ‰ä½œå‡ºæ°å½“çš„è¯„ä»·", factor: "paranoid" },
            { id: 77, text: "å³ä½¿å’Œåˆ«äººåœ¨ä¸€èµ·ä¹Ÿæ„Ÿåˆ°å­¤å•", factor: "psychoticism" },
            { id: 78, text: "æ„Ÿåˆ°åç«‹ä¸å®‰å¿ƒç¥ä¸å®š", factor: "anxiety" },
            { id: 79, text: "æ„Ÿåˆ°è‡ªå·±æ²¡æœ‰ä»€ä¹ˆä»·å€¼", factor: "depression" },
            { id: 80, text: "æ„Ÿåˆ°ç†Ÿæ‚‰çš„ä¸œè¥¿å˜æˆé™Œç”Ÿæˆ–ä¸åƒæ˜¯çœŸçš„", factor: "anxiety" },
            { id: 81, text: "å¤§å«æˆ–æ‘”ä¸œè¥¿", factor: "hostility" },
            { id: 82, text: "å®³æ€•ä¼šåœ¨å…¬å…±åœºåˆæ˜å€’", factor: "phobic" },
            { id: 83, text: "æ„Ÿåˆ°åˆ«äººæƒ³å æ‚¨çš„ä¾¿å®œ", factor: "paranoid" },
            { id: 84, text: "ä¸ºä¸€äº›æœ‰å…³æ€§çš„æƒ³æ³•è€Œå¾ˆè‹¦æ¼", factor: "psychoticism" },
            { id: 85, text: "æ‚¨è®¤ä¸ºåº”è¯¥å› ä¸ºè‡ªå·±çš„è¿‡é”™è€Œå—åˆ°æƒ©ç½š", factor: "psychoticism" },
            { id: 86, text: "æ„Ÿåˆ°è¦å¾ˆå¿«æŠŠäº‹æƒ…åšå®Œ", factor: "anxiety" },
            { id: 87, text: "æ„Ÿåˆ°è‡ªå·±çš„èº«ä½“æœ‰ä¸¥é‡é—®é¢˜", factor: "psychoticism" },
            { id: 88, text: "ä»æœªæ„Ÿåˆ°å’Œå…¶ä»–äººå¾ˆäº²è¿‘", factor: "psychoticism" },
            { id: 89, text: "æ„Ÿåˆ°è‡ªå·±æœ‰ç½ª", factor: "additional" },
            { id: 90, text: "æ„Ÿåˆ°è‡ªå·±çš„è„‘å­æœ‰æ¯›ç—…", factor: "psychoticism" }
        ];
        
        // å› å­ä¿¡æ¯
        const factors = {
            somatization: { 
                name: "èº¯ä½“åŒ–", 
                items: [1, 4, 12, 27, 40, 42, 48, 49, 52, 53, 56, 58],
                description: "åæ˜ ä¸»è§‚çš„èº«ä½“ä¸é€‚æ„Ÿï¼ŒåŒ…æ‹¬å¿ƒè¡€ç®¡ã€èƒƒè‚ é“ã€å‘¼å¸å’Œå…¶ä»–ç³»ç»Ÿçš„ä¸»è¯‰ä¸é€‚ï¼Œä»¥åŠå¤´ç—›ã€èƒŒç—›ã€è‚Œè‚‰é…¸ç—›ç­‰å…¶ä»–èº¯ä½“è¡¨ç°ã€‚"
            },
            obsessive: { 
                name: "å¼ºè¿«ç—‡çŠ¶", 
                items: [3, 9, 10, 28, 38, 45, 46, 51, 55, 65],
                description: "ä¸»è¦æŒ‡é‚£äº›æ˜çŸ¥æ²¡æœ‰å¿…è¦ï¼Œä½†åˆæ— æ³•æ‘†è„±çš„æ— æ„ä¹‰çš„æ€æƒ³ã€å†²åŠ¨å’Œè¡Œä¸ºç­‰è¡¨ç°ã€‚"
            },
            interpersonal: { 
                name: "äººé™…å…³ç³»æ•æ„Ÿ", 
                items: [6, 21, 34, 36, 37, 41, 61, 69, 73],
                description: "æŒ‡æŸäº›ä¸ªäººä¸è‡ªåœ¨æ„Ÿä¸è‡ªå‘æ„Ÿï¼Œå°¤å…¶æ˜¯åœ¨ä¸å…¶ä»–äººç›¸æ¯”è¾ƒæ—¶æ›´çªå‡ºã€‚"
            },
            depression: { 
                name: "æŠ‘éƒ", 
                items: [5, 14, 15, 20, 22, 26, 29, 30, 31, 32, 54, 71, 79],
                description: "åæ˜ ä¸ä¸´åºŠæŠ‘éƒç—‡çŠ¶ç¾¤ç›¸è”ç³»çš„å¹¿æ³›æ¦‚å¿µï¼Œå¿§éƒè‹¦é—·çš„æ„Ÿæƒ…å’Œå¿ƒå¢ƒæ˜¯ä»£è¡¨æ€§ç—‡çŠ¶ã€‚"
            },
            anxiety: { 
                name: "ç„¦è™‘", 
                items: [2, 17, 23, 33, 39, 57, 72, 78, 80, 86],
                description: "æŒ‡é‚£äº›æ— æ³•é™æ¯ã€ç¥ç»è¿‡æ•ã€ç´§å¼ ä»¥åŠç”±æ­¤äº§ç”Ÿçš„èº¯ä½“å¾è±¡ï¼Œå¦‚éœ‡é¢¤ç­‰ã€‚"
            },
            hostility: { 
                name: "æ•Œå¯¹", 
                items: [11, 24, 63, 67, 74, 81],
                description: "ä¸»è¦ä»æ€æƒ³ã€æ„Ÿæƒ…åŠè¡Œä¸ºä¸‰æ–¹é¢æ¥åæ˜ æ•Œå¯¹çš„è¡¨ç°ã€‚"
            },
            phobic: { 
                name: "ææ€–", 
                items: [13, 25, 47, 50, 70, 75, 82],
                description: "åæ˜ å¯¹å­¤ç‹¬ã€å…¬å…±åœºåˆå’Œäº¤é€šå·¥å…·ç­‰çš„ææƒ§ç¨‹åº¦ã€‚"
            },
            paranoid: { 
                name: "åæ‰§", 
                items: [8, 18, 43, 68, 76, 83],
                description: "ä¸»è¦æŒ‡æ€ç»´æ–¹é¢ï¼Œå¦‚æŠ•å°„æ€§æ€ç»´ã€æ•Œå¯¹ã€çŒœç–‘ã€å…³ç³»è§‚å¿µã€å¦„æƒ³ã€è¢«åŠ¨ä½“éªŒå’Œå¤¸å¤§ç­‰ã€‚"
            },
            psychoticism: { 
                name: "ç²¾ç¥ç—…æ€§", 
                items: [7, 16, 35, 62, 77, 84, 85, 87, 88, 90],
                description: "åæ˜ å„å¼å„æ ·çš„æ€¥æ€§ç—‡çŠ¶å’Œè¡Œä¸ºï¼Œä¹Ÿå¯ä»£è¡¨ç²¾ç¥ç—…æ€§è¿‡ç¨‹çš„æŒ‡å¾ã€‚"
            },
            additional: { 
                name: "å…¶ä»–", 
                items: [19, 44, 59, 60, 64, 66, 89],
                description: "ä¸»è¦åæ˜ ç¡çœ åŠé¥®é£Ÿæƒ…å†µã€‚"
            }
        };
        
        // å½“å‰æµ‹è¯•çŠ¶æ€
        let currentQuestion = 0;
        let answers = new Array(questions.length).fill(0);
        let autoNextEnabled = true;
        
        // DOMå…ƒç´ 
        const introPage = document.getElementById('intro-page');
        const testPage = document.getElementById('test-page');
        const resultPage = document.getElementById('result-page');
        const startTestBtn = document.getElementById('start-test');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const questionContainer = document.getElementById('question-container');
        const progressBar = document.getElementById('progress');
        const retakeTestBtn = document.getElementById('retake-test');
        const saveReportBtn = document.getElementById('save-report');
        const factorsContainer = document.getElementById('factors-container');
        const autoNextCheckbox = document.getElementById('auto-next');
        const summaryCard = document.getElementById('summary-card');
        const summaryIcon = document.getElementById('summary-icon');
        const summaryTitle = document.getElementById('summary-title');
        const summaryDescription = document.getElementById('summary-description');
        
        // äº‹ä»¶ç›‘å¬
        startTestBtn.addEventListener('click', startTest);
        prevBtn.addEventListener('click', prevQuestion);
        nextBtn.addEventListener('click', nextQuestion);
        retakeTestBtn.addEventListener('click', retakeTest);
        saveReportBtn.addEventListener('click', saveReport);
        autoNextCheckbox.addEventListener('change', function() {
            autoNextEnabled = this.checked;
        });
        
        // å¼€å§‹æµ‹è¯•
        function startTest() {
            introPage.classList.add('hidden');
            testPage.classList.remove('hidden');
            showQuestion(currentQuestion);
        }
        
        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion(index) {
            // æ›´æ–°è¿›åº¦æ¡
            const progress = ((index + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            
            // ç”Ÿæˆé—®é¢˜HTML
            const question = questions[index];
            let optionsHTML = '';
            
            for (let i = 1; i <= 5; i++) {
                let optionText = '';
                switch(i) {
                    case 1: optionText = 'ä»æ— '; break;
                    case 2: optionText = 'å¾ˆè½»'; break;
                    case 3: optionText = 'ä¸­ç­‰'; break;
                    case 4: optionText = 'åé‡'; break;
                    case 5: optionText = 'ä¸¥é‡'; break;
                }
                
                const selectedClass = answers[index] === i ? 'selected' : '';
                optionsHTML += `
                    <div class="option ${selectedClass}" data-value="${i}">
                        ${i}. ${optionText}
                    </div>
                `;
            }
            
            questionContainer.innerHTML = `
                <div class="question-number">é—®é¢˜ ${index + 1} / ${questions.length}</div>
                <div class="question-text">${question.text}</div>
                <div class="options">${optionsHTML}</div>
            `;
            
            // æ·»åŠ é€‰é¡¹ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', function() {
                    // ç§»é™¤å…¶ä»–é€‰é¡¹çš„é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected');
                    });
                    
                    // è®¾ç½®å½“å‰é€‰é¡¹ä¸ºé€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');
                    
                    // ä¿å­˜ç­”æ¡ˆ
                    answers[index] = parseInt(this.getAttribute('data-value'));
                    
                    // å¦‚æœå·²å›ç­”ï¼Œå¯ç”¨ä¸‹ä¸€é¢˜æŒ‰é’®
                    if (answers[index] > 0) {
                        nextBtn.disabled = false;
                    }
                    
                    // å¦‚æœå¯ç”¨äº†è‡ªåŠ¨è·³è½¬ï¼Œè‡ªåŠ¨è·³è½¬åˆ°ä¸‹ä¸€é¢˜
                    if (autoNextEnabled && answers[index] > 0 && index < questions.length - 1) {
                        setTimeout(() => {
                            nextQuestion();
                        }, 500);
                    }
                });
            });
            
            // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
            prevBtn.disabled = index === 0;
            nextBtn.disabled = answers[index] === 0;
            
            // å¦‚æœæ˜¯æœ€åä¸€é¢˜ï¼Œæ›´æ”¹æŒ‰é’®æ–‡æœ¬
            if (index === questions.length - 1) {
                nextBtn.textContent = 'æŸ¥çœ‹ç»“æœ';
            } else {
                nextBtn.textContent = 'ä¸‹ä¸€é¢˜';
            }
        }
        
        // ä¸Šä¸€é¢˜
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                showQuestion(currentQuestion);
            }
        }
        
        // ä¸‹ä¸€é¢˜
        function nextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                showQuestion(currentQuestion);
            } else {
                // æœ€åä¸€é¢˜ï¼Œæ˜¾ç¤ºç»“æœ
                showResults();
            }
        }
        
        // æ˜¾ç¤ºç»“æœ
        function showResults() {
            testPage.classList.add('hidden');
            resultPage.classList.remove('hidden');
            
            // è®¡ç®—å„å› å­åˆ†æ•°
            const factorScores = calculateFactorScores();
            
            // æ˜¾ç¤ºæ€»ä½“ç—‡çŠ¶æŒ‡æ•°
            const gsi = calculateGSI();
            document.getElementById('gsi-score').textContent = `å¾—åˆ†: ${gsi.toFixed(2)}`;
            document.getElementById('gsi-bar').style.width = `${Math.min(gsi / 5 * 100, 100)}%`;
            
            let gsiInterpretation = '';
            if (gsi < 1.5) {
                gsiInterpretation = 'æ‚¨çš„æ€»ä½“ç—‡çŠ¶æŒ‡æ•°åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚';
            } else if (gsi < 2.5) {
                gsiInterpretation = 'æ‚¨çš„æ€»ä½“ç—‡çŠ¶æŒ‡æ•°æ˜¾ç¤ºæœ‰è½»åº¦ç—‡çŠ¶ã€‚';
            } else if (gsi < 3.5) {
                gsiInterpretation = 'æ‚¨çš„æ€»ä½“ç—‡çŠ¶æŒ‡æ•°æ˜¾ç¤ºæœ‰ä¸­åº¦ç—‡çŠ¶ï¼Œå»ºè®®å…³æ³¨å¿ƒç†å¥åº·ã€‚';
            } else {
                gsiInterpretation = 'æ‚¨çš„æ€»ä½“ç—‡çŠ¶æŒ‡æ•°æ˜¾ç¤ºæœ‰è¾ƒä¸¥é‡ç—‡çŠ¶ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚';
            }
            document.getElementById('gsi-interpretation').textContent = gsiInterpretation;
            document.getElementById('gsi-interpretation').className = `interpretation ${getSeverityClass(gsi)}`;
            
            // æ˜¾ç¤ºæ€»åˆ†
            const totalScore = calculateTotalScore();
            document.getElementById('total-score').textContent = `æ€»åˆ†: ${totalScore}`;
            
            let totalInterpretation = '';
            if (totalScore < 160) {
                totalInterpretation = 'æ‚¨çš„æ€»åˆ†åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚';
            } else if (totalScore < 200) {
                totalInterpretation = 'æ‚¨çš„æ€»åˆ†è¶…è¿‡160åˆ†ï¼Œå»ºè®®ä½œè¿›ä¸€æ­¥æ£€æŸ¥ã€‚';
            } else if (totalScore < 250) {
                totalInterpretation = 'æ‚¨çš„æ€»åˆ†è¶…è¿‡200åˆ†ï¼Œè¯´æ˜æœ‰æ˜æ˜¾çš„å¿ƒç†é—®é¢˜ï¼Œå¯æ±‚åŠ©äºå¿ƒç†å’¨è¯¢ã€‚';
            } else {
                totalInterpretation = 'æ‚¨çš„æ€»åˆ†è¶…è¿‡250åˆ†ï¼Œæƒ…å†µæ¯”è¾ƒä¸¥é‡ï¼Œéœ€è¦ä½œåŒ»å­¦ä¸Šçš„è¯¦ç»†æ£€æŸ¥ã€‚';
            }
            document.getElementById('total-interpretation').textContent = totalInterpretation;
            document.getElementById('total-interpretation').className = `interpretation ${getSeverityClass(totalScore/90)}`;
            
            // æ›´æ–°æ€»ç»“å¡ç‰‡
            updateSummaryCard(gsi, totalScore, factorScores);
            
            // æ˜¾ç¤ºå„å› å­åˆ†æ•°
            factorsContainer.innerHTML = '';
            for (const [key, factor] of Object.entries(factors)) {
                const score = factorScores[key] || 0;
                const severityClass = getSeverityClass(score);
                
                const factorHTML = `
                    <div class="factor-score">
                        <div class="factor-name">${factor.name}</div>
                        <div class="score-bar">
                            <div class="score-fill" style="width: ${Math.min(score / 5 * 100, 100)}%; background-color: var(--primary-color);"></div>
                        </div>
                        <div class="score-text">å¾—åˆ†: ${score.toFixed(2)}</div>
                        <div class="interpretation ${severityClass}">${getInterpretation(score, factor.name)}</div>
                    </div>
                `;
                
                factorsContainer.innerHTML += factorHTML;
            }
        }
        
        // æ›´æ–°æ€»ç»“å¡ç‰‡
        function updateSummaryCard(gsi, totalScore, factorScores) {
            let maxSeverity = 'normal';
            let maxSeverityScore = 0;
            
            // æ‰¾å‡ºæœ€ä¸¥é‡çš„å› å­
            for (const [key, score] of Object.entries(factorScores)) {
                if (score > maxSeverityScore) {
                    maxSeverityScore = score;
                    maxSeverity = getSeverityClass(score);
                }
            }
            
            // æ ¹æ®æœ€ä¸¥é‡å› å­è®¾ç½®æ€»ç»“å¡ç‰‡
            switch(maxSeverity) {
                case 'normal':
                    summaryIcon.textContent = 'ğŸ˜Š';
                    summaryTitle.textContent = 'å¿ƒç†å¥åº·çŠ¶å†µè‰¯å¥½';
                    summaryDescription.textContent = 'æ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºå¿ƒç†å¥åº·çŠ¶å†µè‰¯å¥½ï¼Œå„é¡¹æŒ‡æ ‡å‡åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚';
                    summaryCard.style.backgroundColor = '#e8f5e9';
                    break;
                case 'mild':
                    summaryIcon.textContent = 'ğŸ˜';
                    summaryTitle.textContent = 'è½»åº¦ç—‡çŠ¶';
                    summaryDescription.textContent = 'æ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºå­˜åœ¨è½»åº¦ç—‡çŠ¶ï¼Œå»ºè®®é€‚å½“å…³æ³¨å¿ƒç†å¥åº·ã€‚';
                    summaryCard.style.backgroundColor = '#fff3e0';
                    break;
                case 'moderate':
                    summaryIcon.textContent = 'ğŸ˜Ÿ';
                    summaryTitle.textContent = 'ä¸­åº¦ç—‡çŠ¶';
                    summaryDescription.textContent = 'æ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºå­˜åœ¨ä¸­åº¦ç—‡çŠ¶ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šè¯„ä¼°å’Œå¸®åŠ©ã€‚';
                    summaryCard.style.backgroundColor = '#ffebee';
                    break;
                case 'severe':
                    summaryIcon.textContent = 'ğŸ˜”';
                    summaryTitle.textContent = 'è¾ƒä¸¥é‡ç—‡çŠ¶';
                    summaryDescription.textContent = 'æ‚¨çš„æµ‹è¯•ç»“æœæ˜¾ç¤ºå­˜åœ¨è¾ƒä¸¥é‡ç—‡çŠ¶ï¼Œå¼ºçƒˆå»ºè®®å¯»æ±‚ä¸“ä¸šåŒ»ç–—å¸®åŠ©ã€‚';
                    summaryCard.style.backgroundColor = '#fce4ec';
                    break;
            }
        }
        
        // è®¡ç®—å„å› å­åˆ†æ•°
        function calculateFactorScores() {
            const scores = {};
            
            for (const [key, factor] of Object.entries(factors)) {
                let total = 0;
                let count = 0;
                
                // è®¡ç®—è¯¥å› å­ä¸‹æ‰€æœ‰é—®é¢˜çš„æ€»åˆ†
                factor.items.forEach(itemId => {
                    const questionIndex = itemId - 1;
                    if (answers[questionIndex] > 0) {
                        total += answers[questionIndex];
                        count++;
                    }
                });
                
                // è®¡ç®—å¹³å‡åˆ†
                scores[key] = count > 0 ? total / count : 0;
            }
            
            return scores;
        }
        
        // è®¡ç®—æ€»ä½“ç—‡çŠ¶æŒ‡æ•°(GSI)
        function calculateGSI() {
            let total = 0;
            let count = 0;
            
            // è®¡ç®—æ‰€æœ‰é—®é¢˜çš„æ€»åˆ†
            answers.forEach(answer => {
                if (answer > 0) {
                    total += answer;
                    count++;
                }
            });
            
            // è®¡ç®—å¹³å‡åˆ†
            return count > 0 ? total / count : 0;
        }
        
        // è®¡ç®—æ€»åˆ†
        function calculateTotalScore() {
            let total = 0;
            
            // è®¡ç®—æ‰€æœ‰é—®é¢˜çš„æ€»åˆ†
            answers.forEach(answer => {
                if (answer > 0) {
                    total += answer;
                }
            });
            
            return total;
        }
        
        // æ ¹æ®åˆ†æ•°è·å–ä¸¥é‡ç¨‹åº¦ç±»åˆ«
        function getSeverityClass(score) {
            if (score < 1.5) return 'normal';
            if (score < 2.5) return 'mild';
            if (score < 3.5) return 'moderate';
            return 'severe';
        }
        
        // è·å–è§£é‡Šæ–‡æœ¬
        function getInterpretation(score, factorName) {
            if (score < 1.5) {
                return `æ‚¨åœ¨${factorName}ç»´åº¦ä¸Šçš„å¾—åˆ†åœ¨æ­£å¸¸èŒƒå›´å†…ã€‚`;
            } else if (score < 2.5) {
                return `æ‚¨åœ¨${factorName}ç»´åº¦ä¸Šæœ‰è½»åº¦ç—‡çŠ¶ï¼Œå»ºè®®é€‚å½“å…³æ³¨ã€‚`;
            } else if (score < 3.5) {
                return `æ‚¨åœ¨${factorName}ç»´åº¦ä¸Šæœ‰ä¸­åº¦ç—‡çŠ¶ï¼Œå»ºè®®å¯»æ±‚ä¸“ä¸šè¯„ä¼°ã€‚`;
            } else {
                return `æ‚¨åœ¨${factorName}ç»´åº¦ä¸Šæœ‰è¾ƒä¸¥é‡ç—‡çŠ¶ï¼Œå¼ºçƒˆå»ºè®®å¯»æ±‚ä¸“ä¸šå¸®åŠ©ã€‚`;
            }
        }
        
        // é‡æ–°æµ‹è¯•
        function retakeTest() {
            currentQuestion = 0;
            answers = new Array(questions.length).fill(0);
            resultPage.classList.add('hidden');
            introPage.classList.remove('hidden');
        }
        
        // ä¿å­˜æŠ¥å‘Š
        function saveReport() {
            alert('æŠ¥å‘Šä¿å­˜åŠŸèƒ½å°†åœ¨å®Œæ•´ç‰ˆä¸­å®ç°ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œè¿™é‡Œå¯ä»¥ç”ŸæˆPDFæˆ–ä¿å­˜åˆ°ç”¨æˆ·è´¦æˆ·ã€‚');
        }
    </script>
</body>

</html>
